!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(b,e,g,h,i){function j(c,d){var e=d||[{message:c}],f=window.console,g=f?f.warn||f.log:null;(b.googleCalendarError||a.noop).apply(i,e),(i.options.googleCalendarError||a.noop).apply(i,e),g&&g.apply(f,[c].concat(d||[]))}var k,l,m=d+"/"+encodeURIComponent(b.googleCalendarId)+"/events?callback=?",n=b.googleCalendarApiKey||i.options.googleCalendarApiKey,o=b.success;return n?(e.hasZone()||(e=e.clone().utc().add(-1,"day")),g.hasZone()||(g=g.clone().utc().add(1,"day")),h&&"local"!=h&&(l=h.replace(" ","_")),k=a.extend({},b.data||{},{key:n,timeMin:e.format(),timeMax:g.format(),timeZone:l,singleEvents:!0,maxResults:9999}),a.extend({},b,{googleCalendarId:null,url:m,data:k,startParam:!1,endParam:!1,timezoneParam:!1,success:function(b){var d,e,g=[];if(b.error)j("Google Calendar API: "+b.error.message,b.error.errors);else if(b.items&&(a.each(b.items,function(a,b){var d=b.htmlLink;l&&(d=c(d,"ctz="+l)),g.push({id:b.id,title:b.summary,start:b.start.dateTime||b.start.date,end:b.end.dateTime||b.end.date,url:d,location:b.location,description:b.description})}),d=[g].concat(Array.prototype.slice.call(arguments,1)),e=f(o,this,d),a.isArray(e)))return e;return g}})):(j("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),{})}function c(a,b){return a.replace(/(\?.*?)?(#|$)/,function(a,c,d){return(c?c+"&":"?")+b+d})}var d="https://www.googleapis.com/calendar/v3/calendars",e=a.fullCalendar,f=e.applyAll;e.sourceNormalizers.push(function(a){var b,c=a.googleCalendarId,d=a.url;!c&&d&&(/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(d)?c=d:((b=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(d))||(b=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(d)))&&(c=decodeURIComponent(b[1])),c&&(a.googleCalendarId=c)),c&&(null==a.editable&&(a.editable=!1),a.url=c)}),e.sourceFetchers.push(function(a,c,d,e){return a.googleCalendarId?b(a,c,d,e,this):void 0})});