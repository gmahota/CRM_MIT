@model MIT.Data.Funcionario

@{
    var conexao = "";
}

<environment names="Development">
    @{conexao = "http://localhost:8989/signalr";}
</environment>
<environment names="Staging,Production">
    @{conexao = "http://ferias.mit.co.mz:8989/signalr";}
</environment>


@section scripts {
    <!-- Variaveis Globais -->

    <script type="text/javascript">
        var ferias = [];
        var tipoFerias = "Dia de Férias";
        var numDiasMarcados = 0;

        var numMeiosDiasMarcados = 0;
        var numDiasAntecipados = 0;
        var numMeiosAntecipados = 0;
    </script>

    <!-- Boostrap Annual Calendar-->

    <script type="text/javascript">

        $(document).ready(function () {

            var currentYear = new Date().getFullYear();

            $('#calendario').calendar({
                enableContextMenu: true,
                dataSource:[],
                mouseOnDay: function (e) {
                    if (e.events.length > 0) {
                        var content = '';

                        for (var i in e.events) {
                            content += '<div class="event-tooltip-content">'
                                            + '<div class="event-name" style="color:' + e.events[i].color + '">' + e.events[i].name + '</div>'
                                            + '<div class="event-location">' + e.events[i].location + '</div>'
                                        + '</div>';
                        }

                        $(e.element).popover({
                            trigger: 'manual',
                            container: 'body',
                            html: true,
                            content: content
                        });

                        $(e.element).popover('show');
                    }
                },
                mouseOutDay: function (e) {
                    if (e.events.length > 0) {
                        $(e.element).popover('hide');
                    }
                },
                dayContextMenu: function (e) {
                    $(e.element).popover('hide');
                },
                enableRangeSelection: true,
                
                selectRange: function (e) {
                    
                },

                clickDay: function (e) {
                    var day = moment(e.date);

                    var evento = {
                        //id: value.funcionarioId,
                        title: tipoFerias,// 'Pedido Ferias',
                        start: day.format("DD/MM/YYYY") , //'2014-06-09T16:00:00'
                        //end: date,
                        allDay: true,
                        color: '#eea236'
                    }

                    var feria = {
                        ano: day.format("YYYY"),
                        dataFeria: day.format("DD/MM/YYYY"),
                        funcionarioId: '@Model.id',
                        tipo:tipoFerias,
                        estado: "",
                        tipoMarcacaos:1
                    };

                    if (tipoFerias == "Desmarcar") {


                    } else {

                        if (existeData(ferias, feria) == false) {
                            switch (tipoFerias) {
                                case 'Dia de Férias':
                                    evento.color = '#eea236';
                                    //$(this).css('background-color', '#eea236');
                                    numDiasMarcados++;

                                    $("#txtDiasMarcados").val(numDiasMarcados);

                                    break;

                                case 'Meio Dia de Férias':
                                    //$(this).css('background-color', '#d43f3a');
                                    evento.color = '#d43f3a';
                                    numMeiosDiasMarcados++;
                                    $("#txtMeiosDiasMarcados").val(numMeiosDiasMarcados);
                                    break;

                                case 'Dia Antecipado':
                                    numDiasAntecipados++;

                                    $("#txtDiasAntecipados").val(numDiasAntecipados);

                                    break;
                                case 'Meio Dia Antecipado':
                                    numMeiosAntecipados++;

                                    $("#txtMeiosDiasAntecipados").val(numMeiosAntecipados);

                                    break;

                            }

                            ferias.push(feria)

                            $(e.element).css('background-color', evento.color);
                            $(e.element).css('color', 'white');
                            $(e.element).css('border-radius', '15px');

                        }
                    }
                }
            })

            var apiUrl = location.origin + "/RH/ListaMarcacaoFerias";

            $.ajax({
                type: "POST",
                dataType: "json",
                
                url: apiUrl,
                data: { funcionarioId: '@Model.id', ano: '@DateTime.Now.Year' },

                success: function (data) {

                    data.forEach(preencherCalendario);

                    function preencherCalendario(value, index, ar) {

                        var color = "#337ab7";

                        switch (value.estado) {
                            case "Por Aprovar":
                                color = "#f0ad4e";
                                break;

                            case "Aprovado":
                                color = '#257e4a';
                                break;
                            case "Recusado":
                                color = "#d9534f";

                                break;

                        }

                        var day = moment(value.dataFeria);

                        var currentYear = new Date().getFullYear();
                        console.log(value.dataFeria)
                        var evento = {
                            id: 0,
                            name: value.tipo,
                            location: value.estado,
                            startDate: day.toDate(),
                            endDate: day.toDate(),
                            color: color
                        }

                        saveEvent(evento)
                        
                        if (value.estado == "Por Aprovar") {

                            


                        }



                    }
                },
                error: function (error) {
                    var x = error; //break here for debugging.
                }
            });
        })


        function saveEvent(evento) {
            
            var dataSource = $('#calendario').data('calendar').getDataSource();

            var newId = 0;

            for (var i in dataSource) {
                if (dataSource[i].id > newId) {
                    newId = dataSource[i].id;
                }
            }

            newId++;
            evento.id = newId;

            dataSource.push(evento);

            console.log(dataSource)

            $('#calendario').data('calendar').setDataSource(dataSource);
            
        }

        function existeData(events,evento) {

            for(i = 0 ; i < events.length; i++){
                if (events[i].dataFeria == evento.dataFeria) {

                    alert("O sistema não permite marcar duas vezes a mesma data")
                    return true

                }

            }
            return false;
        }

        function submeterPedido() {

            for(i=0;i<ferias.length;i++){
                var feria = ferias[i];

                if(feria.estado ==""){
                    feria.estado = "Por Aprovar";
                    $.ajax({
                        type: "POST",
                        async: true,
                        dataType: "json",
                        url: location.origin + "/RH/MarcacaoFerias",
                        data: feria,
                        success: function (data) {

                            //window.location = "/RH/Index";

                        },
                        error: function (error) {
                            var x = error; //break here for debugging.
                        }
                    });
                }

            }


            var mensaguem = "";
            mensaguem = "<table>"
            mensaguem += "<tr>" +
                "<th>Data</th>" +
                "<th>Tipo</th>" +
                "<th>Estado</th> </tr>";

            for( j = 0; j < ferias.length; j++ ){
                mensaguem += "<tr>" +
                "<td>" +ferias[j].dataFeria +"</td>" +
                "<td>" + ferias[j].tipo + "</td>" +
                "<td>" + ferias[j].estado + "</td> </tr>";

            }

            mensaguem += "</table>";

            var apiUrl = location.origin + "/Funcionario/sendEmailCriacaoFerias";

            $.ajax({
                type: "POST",
                dataType: "json",
                async: true,
                url: apiUrl,
                data: { funcionarioId: '@Model.id', 'mensaguem':mensaguem, titulo:"Pedido de Ferias do Funcionario @Model.nome.First()" },
                success: function () {

                    //window.location = "/RH/Index";

                },
                error: function (error) {
                    var x = error; //break here for debugging.
                }
            });

            window.location = "/RH/Details/" + '@Model.id';

        }
</script>

    <!--Full Calendar -->
    <script type="text/javascript">
        
        $(document).ready(function () {

            $('#myModal').on('shown.bs.modal', function () {
                $('#myInput').focus()
            })

            var calendar = $('#calendar').fullCalendar({
                lang: 'pt',
                dayClick: function (date, jsEvent, view) {
                    var existe = false;

                    var row = document.getElementById("tabelaMarcacaoFerias").rows.length;

                    $('#tabelaMarcacaoFerias tr').find(".DataM").each(function (i, row) {

                        var row = $(this);

                        if (date.format("L") == $(row).text()) {
                            existe = true;

                        }
                    });

                    if (existe == true)
                    {
                        alert("O dia " + date.format("L") + " já foi selecionado já existe na lista de férias por submeter");

                    } else
                    {
                        var rows = document.getElementById('tabelaMarcacaoFerias').getElementsByTagName('tbody')[0].getElementsByTagName('tr');

                        $("#tabelaMarcacaoFerias").append(
                            "<tr>" +
                                "<td class ='DataM'>" + date.format("L") + "</td> " +
                                "<td>" +  tipoFerias + "</td> " +
                                "<td>" + "" + "</td> " +
                                "<td> <a onclick='removeLinhaMarcacaoFerias(this.parentNode.parentNode.rowIndex,tipoFerias)' > " + "<span class='fa fa-remove' aria-hidden='true' style='font-size: 18px; '></span> </a></td>" +
                            "</tr>"
                        );


                        var evento = {
                            //id: value.funcionarioId,
                            title: tipoFerias,// 'Pedido Ferias',
                            start: date, //'2014-06-09T16:00:00'
                            end: date,
                            allDay: true,
                            color: '#eea236'
                        }

                        switch (tipoFerias) {
                            case 'Dia de Férias':
                                evento.color = '#eea236';
                                //$(this).css('background-color', '#eea236');
                                numDiasMarcados++;

                                $("#txtDiasMarcados").text(numDiasMarcados);

                                break;

                            case 'Meio Dia de Férias':
                                //$(this).css('background-color', '#d43f3a');
                                evento.color = '#d43f3a';
                                numMeiosDiasMarcados++;
                                $("#txtMeiosDiasMarcados").text(numMeiosDiasMarcados);
                                break;

                            case 'Dia Antecipado': $(this).css('background-color', '#46b8da');
                                numDiasAntecipados++;

                                $("#txtDiasAntecipados").text(numDiasAntecipados);

                                break;
                            case 'Meio Dia Antecipado': $(this).css('background-color', '#cccccc');
                                numMeiosAntecipados++;

                                $("#txtMeiosDiasAntecipados").text(numMeiosAntecipados);

                                break;

                        }

                        $('#calendar').fullCalendar('renderEvent', evento, true);

                    }

                },


                header: {
                    center: 'month' // buttons for switching between views
                },
                views: {

                }
            });

            var apiUrl = location.origin + "/RH/ListaMarcacaoFerias";

            $.ajax({
                type: "POST",
                dataType: "json",

                url: apiUrl,
                data: { funcionarioId: '@Model.id', ano: '@DateTime.Now.Year' },
                success: function (data) {

                    data.forEach(preencherCalendario);

                    function preencherCalendario(value, index, ar) {

                        var color = "#337ab7";

                        switch (value.estado) {
                            case "Por Aprovar":
                                color = "#f0ad4e";
                                break;

                            case "Aprovado":
                                color = '#257e4a';
                                break;
                            case "Recusado":
                                color = "#d9534f";

                                break;

                        }


                        var evento = {
                            //id: value.funcionarioId,
                            title: value.tipo,// 'Pedido Ferias',
                            start: value.dataFeria, //'2014-06-09T16:00:00'
                            end: value.dataFeria,
                            allDay: true,
                            color: color
                        }

                        $('#calendar').fullCalendar('renderEvent', evento, true);

                        var tipo = "'+" + value.tipo + "'";

                        var day = moment(value.dataFeria);

                        var d = new Date(value.dataFeria);

                        if (value.estado == "Por Aprovar") {

                            $("#tabelaMarcacaoFerias").append(
                                "<tr>" +
                                    "<td class ='DataM'>" + day.format("DD/MM/YYYY") + "</td> " +
                                    "<td>" + value.tipo + "</td> " +
                                    "<td>" + value.estado + "</td> " +
                                    "<td > <a id = 'a_" + value.id + "'  > " +
                                        "<span class='glyphicon glyphicon-remove-circle' aria-hidden='true' style='font-size: 18px; '></span> </a></td>" +
                                "</tr>"
                            );

                            $("#a_" + value.id).click(function () {
                                alert(this.parentNode.parentNode.rowIndex);
                                deleteMarcacaoFerias( value.id , this.parentNode.parentNode.rowIndex , "'" + value.tipo + "'")
                            });
                                
                            //    .click {  css({
                            //    'background-color': 'red',
                            //    'onclick': 
                            //});


                        }



                    }
                },
                error: function (error) {
                    var x = error; //break here for debugging.
                }
            });

        });

        function removeLinhaMarcacaoFerias(numero,tipoferias) {

            var row = $('#tabelaMarcacaoFerias').get(0).rows.item(numero)
            var row = $(row);

            $('#calendar').fullCalendar('removeEvents', function (event) {
                if (event.start.format("L") === row.children('td').eq(0).text())
                    return true;
            });

            document.getElementById('tabelaMarcacaoFerias').deleteRow(numero);

            switch (tipoFerias) {
                case 'Dia de Férias':
                    numDiasMarcados--;

                    $("#txtDiasMarcados").text(numDiasMarcados);

                    break;

                case 'Meio Dia de Férias':
                    numMeiosDiasMarcados--;
                    $("#txtMeiosDiasMarcados").text(numMeiosDiasMarcados);
                    break;
                case 'Dia Antecipado':

                    numDiasAntecipados--;

                    $("#txtDiasAntecipados").text(numDiasAntecipados);

                    break;
                case 'Meio Dia Antecipado':

                    numMeiosAntecipados--;

                    $("#txtMeiosDiasAntecipados").text(numMeiosAntecipados);

                    break;

            }


        }

        function deleteMarcacaoFerias(id,linhaActual,tipoFerias) {
            $.ajax({
                type: "POST",
                dataType: "json",

                url: location.origin + "/RH/Delete_Ferias",
                data: { id: id },
                success: function () {

                    
                },
                error: function (error) {
                    var x = error; //break here for debugging.
                }
            });

            removeLinhaMarcacaoFerias(linhaActual, tipoFerias);

        }

        function submeterPedido_old() {
            var ferias = [];

            var row = document.getElementById("tabelaMarcacaoFerias").rows.length;

            $('#tabelaMarcacaoFerias tr').each(function (i, row) {
                var row = $(this);
                if (i != 0) {

                    var td = row.children('td');
                    

                    var feria = {
                        ano: $("#ano").val(),
                        dataFeria: td.eq(0).text(),
                        funcionarioId: '@Model.id',
                        tipo: td.eq(1).text(),
                        estado: td.eq(2).text(),
                        tipoMarcacaos:1
                    };
                    console.log(feria);

                    if(feria.estado ==""){
                        feria.estado = "Por Aprovar";
                        $.ajax({
                            type: "POST",
                            async: true,
                            dataType: "json",
                            url: location.origin + "/RH/MarcacaoFerias",
                            data: feria,
                            success: function (data) {

                                    //window.location = "/RH/Index";

                            },
                            error: function (error) {
                                var x = error; //break here for debugging.
                            }
                        });
                    }
                    ferias.push(feria);

                    var perc = (document.getElementById("tabelaMarcacaoFerias").rows.length / i) * 100;
                    $('#progressbar').width(perc + '%');
                    console.log(perc + '%');

                }


                if (i == document.getElementById("tabelaMarcacaoFerias").rows.length-1) {

                    var mensaguem = "";
                    mensaguem = "<table>"
                    mensaguem += "<tr>" +
                        "<th>Data</th>" +
                        "<th>Tipo</th>" +
                        "<th>Estado</th> </tr>";

                    for( j = 0; j < ferias.length; j++ ){
                        mensaguem += "<tr>" +
                        "<td>" +ferias[j].dataFeria +"</td>" +
                        "<td>" + ferias[j].tipo + "</td>" +
                        "<td>" + ferias[j].estado + "</td> </tr>";

                    }

                    mensaguem += "</table>";

                    var apiUrl = location.origin + "/Funcionario/sendEmailCriacaoFerias";

                    $.ajax({
                        type: "POST",
                        dataType: "json",
                        async: true,
                        url: apiUrl,
                        data: { funcionarioId: '@Model.id', 'mensaguem':mensaguem, titulo:"Pedido de Ferias do Funcionario @Model.nome.First()" },
                        success: function () {

                            //window.location = "/RH/Index";

                        },
                        error: function (error) {
                            var x = error; //break here for debugging.
                        }
                    });



                    
                }

                window.location = "/RH/Details/" + '@Model.id';
            });


        }

    </script>

    <!--SignalR script to update the chat page and send messages.-->
    <script>
        $.connection.hub.url = "@conexao";

            var rhHub = $.connection.rhHub;

            $(function () {



                rhHub.client.daInfFeriasFuncionario = function (val) {
                    console.log(val);
                    console.log("Connection started! Client - daInfFeriasFuncionario ");

                    $("#txtGozados").text(val.diasJaGozados);
                    $("#txtPorGozar").text(val.diasPorGozar);
                    $("#txtMaximoDiaFerias").text(val.diasDireito);
                };

                rhHub.client.daListaEmpresas = function (val) {
                    console.log("Connection started! client");
                    console.log(val);
                    $("#tabelaEmpresas").empty();

                    val.forEach(preencherEmpresas);

                    function preencherEmpresas(value, index, ar) {

                        $("#tabelaEmpresas").append(
                                "<tr>" +
                                    "<td> <a href='#' onclick= preencheDadosEmpresa('" + value.codigo + "') >" + value.codigo + "</a></td> " +
                                    "<td>" + value.nome + "</td> " +
                                    "<td id='btSave" + value.codigo + "' class = 'listBtSave'> </td>" +
                                "</tr>"
                            );
                    }
                };

                rhHub.client.daDadosEmpresa = function (val) {
                    console.log("Connection started! - da dados da empresa "+ val.codigo);

                    $("#divDadosEmpresa").show();

                    $("#codigo").val(val.codigo);
                    $("#nome").val(val.nome);

                };

                rhHub.client.daListaFuncionarios = function (val) {
                    console.log("Connection started! client - Lista Funcionarios");
                    console.log(val);
                    $("#tableListaFuncionarios").empty();

                    $("#tableListaFuncionarios").append("<tr> <th> Codigo  </th> <th> Funcionario </th> <th> Departamento </th>  <th> Email </th> <th> Nr. Telefone</th> </tr>");

                    val.forEach(preencheFuncionarios);

                    function preencheFuncionarios(value, index, ar){

                        $("#tableListaFuncionarios").append(
                            "<tr>" +
                                "<td>" +
                                    "<a href='#' onclick= daExtratoPdfCliente('" + $("#codigoEmpresa").text() + "','" + value.codigo + "')>" + value.codigo + "</a>" +
                                "</td> " +
                                "<td> " + value.nome + " </td> " +
                                "<td> " + value.departamentoId + "</td>" +
                                "<td id='email'>" + value.email + " </td>  "+
                                "<td> " + value.telemovel + "</td>" +
                            "</tr>"
                        );


                         console.log();
                    }


                }

                rhHub.client.daListaDepartamentos = function (val) {
                    console.log("Connection started! client - Lista Departamentos");
                    console.log(val);

                    $("#tableListaDepartamentos").empty();

                    $("#tableListaDepartamentos").append("<tr> <th> Departamento  </th> <th> Descrição </th> </tr>");

                    val.forEach(preencheDepartamento);

                    function preencheDepartamento(value, index, ar) {

                        //var funcionarios = "";

                        //value.contacto.forEach(daContactos)

                        $("#tableListaDepartamentos").append(
                            "<tr> " +
                                "<td>" + value.departamento + "</td>" +
                                "<td>" + value.descricao + "</td>" +
                            "</tr>"
                        );

                        //function daContactos(value, index, ar){
                        //    if (value != null) {
                        //        contacto = contacto + value.Email + "; ";
                        //    }

                        //}

                        //console.log();
                    }


                }

                $.connection.hub.start().done(function () {
                    console.log("connection started! server");

                    getFuncInfFerias(2015, '@Model.empresaId', '@Model.codigo');
                });
            });

            // This optional function html-encodes messages for display in the page.
            function htmlEncode(value) {
                var encodedValue = $('<div />').text(value).html();
                return encodedValue;
            }

            function daFuncionarios(empresa){
                rhHub.server.daListaFuncionarios(0, empresa, "gmahota", "Accsys2011!", "");
            }

            function preencheDadosEmpresa(empresa) {
                console.log("da Lista de Funcionarios da empresa " + empresa);
                rhHub.server.daDadosEmpresa(0, empresa, "gmahota", "Accsys2011!");
                daFuncionarios(empresa);
                daListaDepartamentos(empresa)

                $(".listBtSave").empty();
                $("#btSave" + empresa).append("<a onclick='importarDadosEmpresa()' class='btSave fa fa-floppy-o' style='color:red'></a>");


            }

            function daListaDepartamentos(empresa) {
                console.log("Connection started! Server - Lista Departamentos");
                rhHub.server.daListaDepartamentos(0, empresa, "gmahota", "Accsys2011!","");

            }

            function daExtratoPdfCliente(empresa,cliente){
                console.log("da extrato do cliente " + cliente + " da empresa " + empresa);
                enviaEmail(cliente)
                rhHub.server.daExtratoPDFCliente(0, empresa, "gmahota", "Accsys2011!", cliente);
            }

            function importarDadosEmpresa() {

                GravarEmpresa();
                GravarDepartamentos();
                GravarFuncionarios();

            }

            function getFuncInfFerias(ano,empresa,codigo) {
                console.log("Connection started! Server - getFuncInfFerias");
                rhHub.server.daInfFeriasFuncionario(0, empresa, "gmahota", "Accsys2011!", codigo, ano);
            }
    </script>
}


<h4 class="page-header"> RH - Marcação de Ferias : @ViewData["modulo_value"]</h4>


<div class="row placeholders">

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Dados Funcionario</h3>
        </div>
        <div class="panel-body">
            <div class="col-md-8 placeholder">
                <table>
                    <tr>
                        <td>Dias Marcados: </td>
                        <td style="padding-right:10px"> <input type="number" id="txtDiasMarcados" disabled="disabled" value="0" min="0" maxlength="4" size="4" style="max-width:40px"> </td>

                        <td>Meios Dias: </td>
                        <td style="padding-right:10px"> <input type="number" id="txtMeiosDiasMarcados" disabled="disabled" value="0" min="0" maxlength="4" size="4" style="max-width:40px">  </td>

                        <td>Dias Antecipados: </td>
                        <td style="padding-right:10px"> <input type="number" id="txtDiasAntecipados" disabled="disabled" value="0" min="0" maxlength="4" size="4" style="max-width:40px">  </td>

                        <td>Meios Dias Antecipados: </td>
                        <td style="padding-right:10px"> <input type="number" id="txtMeiosDiasAntecipados" disabled="disabled" value="0" min="0" maxlength="4" size="4" style="max-width:40px"> </td>
                    </tr>
                </table>
            </div>

            <div class="col-md-offset-8 placeholder">




                <b>Direito de Ferias</b>

                <table>
                    <tr>
                        <td>Máximo de dias Férias: </td>
                        <td style="padding-right:10px">
                            <input type="number" id="txtMaximoDiaFerias" disabled="disabled" value="0" min="0" maxlength="4" size="4" style="max-width:40px">
                        </td>


                        <td>Gozados: </td>
                        <td style="padding-right:10px">
                            <input type="number" id="txtGozados" disabled="disabled" value="0" min="0" maxlength="4" size="4" style="max-width:40px">
                        </td>

                        <td>Por Gozar: </td>
                        <td style="padding-right:10px">
                            <input type="number" id="txtPorGozar" disabled="disabled" value="0" min="0" maxlength="4" size="4" style="max-width:40px">
                        </td>
                    </tr>

                </table>
            </div>


        </div>
    </div>



</div>

<div class="row placeholders" >
    <div class="col-md-8 placeholder">

        <label class="radio-inline" >
            <input type="radio" style="opacity: 0;" name="optradio" onclick="tipoFerias = 'Dia de Férias'" checked="checked">
                Dias de Férias
        
        </label>
        <label class="radio-inline" ><input type="radio" name="optradio" onclick="tipoFerias = 'Meio Dia de Férias'">Meios Dias de Ferias</label>
        <label class="radio-inline" ><input type="radio" name="optradio" onclick="tipoFerias = 'Dia Antecipado'">Dias Antecipados</label>
        <label class="radio-inline" ><input type="radio" name="optradio" onclick="tipoFerias = 'Meio Dia Antecipado'">Meios Dias Antecipados</label>
        <label class="radio-inline" ><input type="radio" name="optradio" onclick="tipoFerias = 'Desmarcar'">Desmarcar</label>

    </div>

</div>

<div class="row placeholders">

    

    <div id="calendario" class="calendario placeholder"></div>

</div>

<div class="row placeholders">
    <div class="placeholder">
        <button type="button" class="btn btn-success btn-sm " role="button"
                data-toggle="modal" data-target="#myModal">
            <span class="fa fa-save" aria-hidden="true"></span>
            Submeter
        </button>
        <a href="@Url.Action("Index", "RH",new { id = Model.id })" class="btn btn-default btn-sm " role="button">
            <span class="fa fa-remove" aria-hidden="true"></span>
            Cancelar
        </a>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Validação do Pedido</h4>
                </div>
                <div class="modal-body">
                    Deseja Submeter as Ferias para os respectivos dias?

                    <div id="progressBar">
                        <div class="progress">
                            <div id="progressbar" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0"
                                 aria-valuemax="100" style="width:0%">
                                <span class="sr-only">0% Complete</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Não</button>
                    <button type="button" class="btn btn-primary" onclick="submeterPedido()">Sim</button>
                </div>
            </div>
        </div>
    </div>


